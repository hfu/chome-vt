<!doctype html>
<html>
<head>
<meta charset='utf-8' />
<title>chome</title>
<meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
<script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.34.0/mapbox-gl.js'></script>
<link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.34.0/mapbox-gl.css' rel='stylesheet' />
<link href='https://www.mapbox.com/base/latest/base.css' rel='stylesheet' />
<style>
body { margin:0; padding:0; }
#map { position:absolute; top:0; bottom:0; width:100%; }
#features {
  position: absolute; overflow: auto;
  top: 0; left: 0; bottom: 0; width: 300px;
  background: #fff;
</style>
</head>
<body>
<div id="map"/>
<pre id='features'/>
<script>
var map = new mapboxgl.Map({
  container: 'map', style: 'style.json', center: [135, 35],
  zoom: 6, hash: true, maxZoom: 14
});
map.on('mousemove', function (e) {
    var features = map.queryRenderedFeatures(e.point);
    var s = '';
    for(i in features) {
      s += JSON.stringify(features[i]['properties'], null, 2);
    }
    document.getElementById('features').innerHTML = s;
});
</script>
</body>
</html>
